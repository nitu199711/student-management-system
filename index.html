<!DOCTYPE html>
<html>
<head>
<title>Login | Student Management System</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
</head>

<body>
<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card p-4" style="width:380px;">
        <h4 class="text-center text-primary mb-3">Student Management System</h4>

        <form onsubmit="login(event)">
            <input type="email" class="form-control mb-3" placeholder="Email" required>
            <input type="password" class="form-control mb-3" placeholder="Password" required>
            <button class="btn btn-primary w-100">Login</button>
        </form>

        <div class="text-center mt-3">
            <a data-bs-toggle="modal" data-bs-target="#forgot">Forgot Password?</a>
        </div>

        <div class="text-center mt-2">
            New user?
            <a data-bs-toggle="modal" data-bs-target="#signup">Sign Up</a>
        </div>
    </div>
</div>

<!-- Signup Modal -->
<div class="modal fade" id="signup">
<div class="modal-dialog">
<div class="modal-content p-3">
<h5>Sign Up</h5>
<input type="text" class="form-control mb-2" id="signupName" placeholder="Name" required>
<input type="email" class="form-control mb-2" id="signupEmail" placeholder="Email" required>
<input type="password" class="form-control mb-2" id="signupPassword" placeholder="Password" required>
<button class="btn btn-primary w-100" onclick="signup(event)">Create Account</button>
</div>
</div>
</div>

<!-- Forgot Modal -->
<div class="modal fade" id="forgot">
<div class="modal-dialog">
<div class="modal-content p-3">
<h5>Reset Password</h5>
<input type="email" class="form-control mb-3" id="resetEmail" placeholder="Email" required>
<button class="btn btn-primary w-100" onclick="resetPassword(event)">Reset</button>
</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
function login(e){
    e.preventDefault();
    alert("Login Successful!");
    window.location = "dashboard.html";
}

function resetPassword(e){
    e.preventDefault();
    const email = document.getElementById("resetEmail").value;
    
    if(!email){
        alert("Please enter your email address");
        return;
    }
    
    if(confirm("Send password reset link to " + email + "?")){
        alert("Reset link sent successfully!");
        document.getElementById("resetEmail").value = "";
        
        // Close the modal
        const modal = bootstrap.Modal.getInstance(document.getElementById("forgot"));
        modal.hide();
    }
}

function signup(e){
    e.preventDefault();
    const name = document.getElementById("signupName").value;
    const email = document.getElementById("signupEmail").value;
    const password = document.getElementById("signupPassword").value;
    
    if(!name){
        alert("Please enter your name");
        return;
    }
    
    if(!email){
        alert("Please enter your email address");
        return;
    }
    
    // Email format validation
    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if(!emailPattern.test(email)){
        alert("Please enter a valid email address");
        return;
    }
    
    if(!password){
        alert("Please enter a password");
        return;
    }
    
    if(password.length < 6){
        alert("Password must be at least 6 characters long");
        return;
    }
    
    if(confirm("Create account with email " + email + "?")){
        alert("Account created successfully!");
        document.getElementById("signupName").value = "";
        document.getElementById("signupEmail").value = "";
        document.getElementById("signupPassword").value = "";
        
        // Close the modal
        const modal = bootstrap.Modal.getInstance(document.getElementById("signup"));
        modal.hide();
    }
}
</script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<title>Add Student</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
</head>

<body>
<div class="container mt-5">
  <div class="card p-4 mx-auto" style="max-width:450px;">
    <h4>Add Student</h4>

    <div class="alert alert-success d-none" id="successMsg">
      Student added successfully!
    </div>

    <form onsubmit="saveStudent(event)">
      <div class="mb-3">
        <label>Full Name</label>
        <input id="fullName" type="text" class="form-control" required>
      </div>

      <div class="mb-3">
        <label>Email</label>
        <input id="email" type="email" class="form-control" required>
      </div>

      <div class="mb-3">
        <label>Age</label>
        <input id="age" type="number" class="form-control" required min="1">
      </div>

      <div class="mb-3">
        <label>Course</label>
        <select id="course" class="form-select" required>
          <option value="">Select Course</option>
          <option>BCA</option>
          <option>MCA</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary">Save</button>
      <a href="students.html" class="btn btn-secondary">Cancel</a>
    </form>
  </div>
</div>

<script>
function saveStudent(e){
  e.preventDefault();
  const name = document.getElementById('fullName').value.trim();
  const email = document.getElementById('email').value.trim();
  const age = parseInt(document.getElementById('age').value,10);
  const course = document.getElementById('course').value;

  if(!name || !email || !age || !course){
    alert('Please fill all fields correctly.');
    return;
  }

  const students = JSON.parse(localStorage.getItem('students') || '[]');
  const student = { id: Date.now(), name, email, age, course };
  students.push(student);
  localStorage.setItem('students', JSON.stringify(students));

  document.getElementById('successMsg').classList.remove('d-none');

  setTimeout(() => {
    window.location = 'students.html';
  }, 800);
}
</script>
</body>
</html>
